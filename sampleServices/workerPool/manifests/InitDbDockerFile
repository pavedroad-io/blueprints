
# pavedroad image based on centos with cockroachdb installed
FROM pavedroadio/cockroachdb-client:0.3

LABEL "io.pavedroad.vendor": "mirantis" \
      "io.pavedroad.init.db": "eventCollectordb" \
      "io.pavedroad.description": "Allocate jobs to workers in a pool" \
      "io.pavedroad.version": "0.0.1" \
      "io.pavedroad.tempalte": "workerPool" \
      "io.pavedroad.definition": "metrics.yaml" \
      "io.pavedroad.env": "dev"

MAINTAINER "support@pavedroad.io"

# Build paths for placing kevlar microservice
ENV scripts dev/db
ENV cmd eventCollectorExecuteAll.sh

# make working directory, move to it, and copy in prToken ms
RUN mkdir -p pavedroad
WORKDIR pavedroad
COPY dev/db .

CMD ["/bin/sh", "-c", "./$cmd -k"]
